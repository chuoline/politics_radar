<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>politics_radar - 分析</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 12px; }
    th, td { border: 1px solid #ddd; padding: 8px; font-size: 14px; }
    th { background: #f6f6f6; text-align: left; }
    .small { color:#666; font-size: 12px; }
  </style>
</head>
<body>
  <h1>politics_radar（MVP）</h1>
  <p class="small">
    各chunkにカテゴリ・深さ・任期内位相(origin_phase)を付与し、偏りを可視化します。<br>
    ※「構造・見出し」「Q&A」は分析表から除外（必要なら切替可能）
  </p>

  <h2>カテゴリ件数</h2>
  <table>
    <tr><th>category</th><th>count</th></tr>
    {% for r in cat_counts %}
      <tr><td>{{ r["category"] }}</td><td>{{ r["cnt"] }}</td></tr>
    {% endfor %}
  </table>

  <h2>マトリクス：カテゴリ × 任期位相</h2>
  <table>
    <tr>
      <th>category</th>
      {% for b in bins %}<th>{{ b }}</th>{% endfor %}
    </tr>
    {% for cat, row in matrix.items() %}
      <tr>
        <td>{{ cat }}</td>
        {% for b in bins %}
          <td>{{ row[b] }}</td>
        {% endfor %}
      </tr>
    {% endfor %}
  </table>
</body>
</html>